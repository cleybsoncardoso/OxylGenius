<!DOCTYPE html>
<html lang="pt-br">

<head>
    <title>MOCS - Visualizar Obra</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <link rel="stylesheet" href="vendor.min.css">
    <link rel="stylesheet" href="app.min.css">
    <script src="vendor.min.js"></script>
    <script src="app.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.1/js/materialize.min.js"></script>
    <link rel="stylesheet" href="css/slider.css">
    
</head>    


<body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header" id="app">
        <header class="mdl-layout__header">
            <div class="mdl-layout__header-row">
                <a href="index.html"><img class="title1" src="imagens/logo.png" style="width:200px; height:45px; margin-left:10px; margin-bottom:5px;"></a>
                <div class="menu" style="margin-left:215px">
                    <nav class="mdl-navigation mdl-layout--large-screen-only">

                        <div class="elemento_menu"><a href="FaleConosco.html" class="mdl-navigation__link">Fale Conosco</a></div>
                        <div class="elemento_menu"><a href="galeria.html" class="mdl-navigation__link"> Galeria</a></div>
                        <div class="elemento_menu"><a href="#" class="mdl-navigation__link" onclick="document.getElementById('id01').style.display='block'">Entrar</a></div>

                        <div id="id01" class="obfuscator">
                            <login-modal class="animate-zoom"></login-modal>
                        </div>
                        <div class="elemento_menu"><a href="cadastrar.html" class="mdl-navigation__link">Cadastrar</a></div>


                    </nav>
                </div>
            </div>
        </header>

        <div class="mdl-layout__drawer mdl-layout--small-screen-only ">
            <nav class="mdl-navigation ">
                <a class="mdl-navigation__link " href="FaleConosco.html">Fale Conosco</a>
                <a class="mdl-navigation__link " href="galeria.html">Galeria</a>
                <a href="login-mobile.html" class="mdl-navigation__link ">Entrar</a>
            </nav>
        </div>

        <div class="mdl-layout__content">

            <div class="mdl-layout mdl-js-layout mdl-color--grey-100">
                <main class="main">
                    <div class="container-fluid" style="width:100%; margin-bottom:15px" align="center">
                    
                        <header class="row">
                            <h2 style="text-align:center"> Nome da Obra: {{obra.nome}}</h2>                            
                        </header>

                        
                    </div>
                    
                            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                            <!-- How To Add Font Awesome Social Icons In Blog Or Website3 -->
                            <ins class="adsbygoogle"
                                 style="display:block"
                                 data-ad-client="ca-pub-4017969662737344"
                                 data-ad-slot="1819950113"
                                 data-ad-format="auto"></ins>
                            <script>
                            (adsbygoogle = window.adsbygoogle || []).push({});
                            </script>
                            
                                <div class="carousel" style="width:500px" align="center">
                                    <div class="carousel-inner" >
                                        <input class="carousel-open" type="radio" id="carousel-1" name="carousel" aria-hidden="true" hidden="" checked="checked">
                                        <div class="carousel-item" v-for="foto in foto">
                                            <img :src="foto.linkFoto" alt="" style="width:270px; height:300px;" align="center">
                                        </div>
                                        <input class="carousel-open" type="radio" id="carousel-2" name="carousel" aria-hidden="true" hidden="">
                                        <div class="carousel-item">
                                                <img :src="foto" alt="" style="width:270px; height:300px;" align="center">
                                        </div>
                                        <input class="carousel-open" type="radio" id="carousel-3" name="carousel" aria-hidden="true" hidden="">
                                        <div class="carousel-item">
                                                <img :src="foto" alt="" style="width:270px; height:300px;" align="center">
                                        </div>
                                        <label for="carousel-3" class="carousel-control prev control-1">‹</label>
                                        <label for="carousel-2" class="carousel-control next control-1">›</label>
                                        <label for="carousel-1" class="carousel-control prev control-2">‹</label>
                                        <label for="carousel-3" class="carousel-control next control-2">›</label>
                                        <label for="carousel-2" class="carousel-control prev control-3">‹</label>
                                        <label for="carousel-1" class="carousel-control next control-3">›</label>
                                        <ol class="carousel-indicators">
                                            <li>
                                                <label for="carousel-1" class="carousel-bullet">•</label>
                                            </li>
                                            <li>
                                                <label for="carousel-2" class="carousel-bullet">•</label>
                                            </li>
                                            <li>
                                                <label for="carousel-3" class="carousel-bullet">•</label>
                                            </li>
                                        </ol>
                                    </div>
                            </div>
                                
                                
                                <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                            <!-- How To Add Font Awesome Social Icons In Blog Or Website3 -->
                            <ins class="adsbygoogle"
                                 style="display:block"
                                 data-ad-client="ca-pub-4017969662737344"
                                 data-ad-slot="1819950113"
                                 data-ad-format="auto"></ins>
                            <script>
                            (adsbygoogle = window.adsbygoogle || []).push({});
                            </script>

                    <div class="container-fluid" style="width:100%" align="center" >
                        <div class="row">
                            <ul class="mdl-list" style="width:500px">
                               <li class="mdl-list__item">
                                    <span class="mdl-list__item-primary-content">
                                        Número do Inventário: {{obra.n_no_inventario}}
                                    </span>
                                </li>
                                <li class="mdl-list__item">
                                    <span class="mdl-list__item-primary-content">
                                        Coleção da Obra: {{obra.colecao}}
                                    </span>
                                </li>
                                <li class="mdl-list__item">
                                    <span class="mdl-list__item-primary-content">
                                        Título da Obra: {{obra.titulo}}
                                    </span>
                                </li>
                                <li class="mdl-list__item">
                                    <span class="mdl-list__item-primary-content">
                                        Função da Obra: {{obra.funcao}}
                                    </span>
                                </li>
                                <li class="mdl-list__item">
                                    <span class="mdl-list__item-primary-content">
                                        Procedência da Obra: {{obra.procedencia}}
                                    </span>
                                </li>
                                <li class="mdl-list__item">
                                    <span class="mdl-list__item-primary-content">
                                        Altura da Obra: {{obra.Altura}}
                                    </span>
                                </li>
                                <li class="mdl-list__item">
                                    <span class="mdl-list__item-primary-content">
                                        Largura da Obra: {{obra.Largura}}
                                    </span>
                                </li>   
                                <li class="mdl-list__item">
                                    <span class="mdl-list__item-primary-content">
                                        Materiais Constitutivos da Obra: {{obra.material}}
                                    </span>
                                </li> 
                                <li class="mdl-list__item">
                                    <span class="mdl-list__item-primary-content">
                                        Técnica de Fabricação da Obra: {{obra.tecnica}}
                                    </span>
                                </li>                                 
                                <li class="mdl-list__item">
                                    <span class="mdl-list__item-primary-content">
                                        Autoria da Obra: {{obra.autora}}
                                    </span>
                                </li> 
                                <li class="mdl-list__item">
                                    <span class="mdl-list__item-primary-content">
                                        Marcas e Inscrições da Obra: {{obra.marcas}}
                                    </span>
                                </li> 
                                <li class="mdl-list__item">
                                    <span class="mdl-list__item-primary-content">
                                        Histórico da Obra: {{obra.historico}}
                                    </span>
                                </li> 
                                <li class="mdl-list__item">
                                    <span class="mdl-list__item-primary-content">
                                        Forma de Aquisição da Obra: {{obra.Forma}}
                                    </span>
                                </li> 
                                <li class="mdl-list__item">
                                    <span class="mdl-list__item-primary-content">
                                        Autor de Aquisição da Obra: {{obra.autor}}
                                    </span>
                                </li> 
                                <li class="mdl-list__item">
                                    <span class="mdl-list__item-primary-content">
                                        Iconologia da Obra: {{obra.inconologia}}
                                    </span>
                                </li> 
                                <li class="mdl-list__item">
                                    <span class="mdl-list__item-primary-content">
                                        Estado de Conservação da Obra: {{obra.estado}}
                                    </span>
                                </li> 
                                <li class="mdl-list__item">
                                    <span class="mdl-list__item-primary-content">
                                        Fotógrafo da Obra: {{obra.fotografo}}
                                    </span>
                                </li> 
                                <li class="mdl-list__item">
                                    <span class="mdl-list__item-primary-content">
                                        Data da Foto:{{obra.dta}}
                                    </span>
                                </li> 
                                <li class="mdl-list__item">
                                    <span class="mdl-list__item-primary-content">
                                        Arquivo da Foto:{{obra.arquivo}}
                                    </span>
                                </li> 
                                <li class="mdl-list__item">
                                    <span class="mdl-list__item-primary-content">
                                        Referências da Obra: {{obra.referencias}}
                                    </span>
                                </li>
                                <li class="mdl-list__item">
                                    <span class="mdl-list__item-primary-content">
                                        Data de Aquisição da Obra: {{obra.local_data}}
                                    </span>
                                </li>  


 
                            </ul>
 
                        </div>  
                        <div class="row">
                            <div class="col-sm-12">
                                <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect" id="btn1" style="margin-left:570px;">
                                   Ver imagem em 3D
                                </button>
                                <div id="container" style="margin-left: 450px; margin-bottom:50px" align="center" >
                                    <ul class="list" style="list-style-type: none;">
                                        <li id="frame"><img src="imagens/image1_1.jpg" /></li>
                                        <!--Frames do objeto 3D -->
                                        <!-- Exemplo temporário-->
                                        <li ><img src="imagens/image1_2.jpg" /></li>
                                        <li> <img src="imagens/image1_3.jpg"> </li>
                                        <li> <img src="imagens/image1_4.jpg"> </li>
                                        <li> <img src="imagens/image1_5.jpg"> </li>
                                        <li> <img src="imagens/image1_6.jpg"> </li>
                                        <li> <img src="imagens/image1_7.jpg"> </li>
                                        <li> <img src="imagens/image1_8.jpg"> </li>
                                        <li> <img src="imagens/image1_9.jpg"> </li>
                                        <li> <img src="imagens/image1_10.jpg"> </li>
                                        <li> <img src="imagens/image1_11.jpg"> </li>
                                        <li> <img src="imagens/image1_12.jpg"> </li>
                                        <li> <img src="imagens/image1_13.jpg"> </li>
                                        <li> <img src="imagens/image1_14.jpg"> </li>
                                        <li> <img src="imagens/image1_15.jpg"> </li>
                                        <li> <img src="imagens/image1_16.jpg"> </li>
                                        <li> <img src="imagens/image1_17.jpg"> </li>
                                        <li> <img src="imagens/image1_18.jpg"> </li>
                                    </ul>
                                </div>


                            </div>
                            <div class="col-sm-12">
                                <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect" id="btn2" style="margin-left:570px;">
                                   Fechar visualização 3D
                                </button>
                            </div>
                        </div>
            </div>
                <footer class="mdl-mini-footer">
                    <div class="text-footer ">Avenida Transnordestina, s/n - Novo Horizonte CEP 44036-900 - Feira de Santana - Bahia - (75)3161-8000</div>
                </footer>
                </main>
            </div>

        </div>

    </div>

    <script>
        var URL_API = 'http://mocs.000webhostapp.com/api/public/';
        var app = new Vue({
            el: '#app',

            data: {
                obra: {},
                foto: [],
            },

            methods: {
            },

            created: function () {
                let query = location.search.slice(1);
                let id = query.split('=');
                // `this` points to the vm instance
                $.get("http://mocs.000webhostapp.com/api/public/obra/" + id[1], function (data) {
                    app.obra = data;
                    app.foto = app.obra.foto;
                    console.log(app.obra);
                    console.log(app.foto);
                });


            }

        })
    </script>

    <script>
        var modal = document.getElementById('id01');
        //fecha quando o user clica fora
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none ";
            }
        }
    </script>

    <!-- CÓDIGO DO 3D -->
    <script>
        //pega o botão, o primeiro frame e o container que abriga objeto
        var btn1 = document.getElementById('btn1');
        var frame1 = document.getElementById('frame');
        var cont = document.getElementById('container');
        frame1.style.display = "none";
        cont.style.display = "none";

        btn1.onclick = function() {
             frame1.style.display = "block";
            cont.style.display = "block";
            var pic_X = $('.list').offset().left;
            var pic_Y = $('.list').offset().top;
            var pic_W = $('.list').width() / 2;
            var pic_H = $('.list').height() / 2;
            var center_X = pic_X + pic_W;
            var center_Y = pic_Y + pic_H;
            var movestop = pic_W / 10;

            $('.list').mousemove(function(event) {
                var mouse_X = event.pageX;
                var mouse_Y = event.pageY;
                if (mouse_X - center_X <= 0) {
                    moveImg(mouse_X, mouse_Y, 'left')
                } else {
                    moveImg(mouse_X, mouse_Y)
                }
            });

            function moveImg(m_X, m_Y, dir) {
                var index = Math.ceil(Math.abs(m_X - center_X) / movestop);
                if (dir) {
                    $('.list li').eq(index).show().siblings().hide();
                } else {
                    $('.list li').eq(18 - index).show().siblings().hide();
                }
            }
        }
        //clique para fechar a visualização
        btn2.onclick = function() {
            frame1.style.display = "none";
            cont.style.display = "none";
        }
    </script>
    <!-- FECha CÓDIGO DO 3D -->

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- How To Add Font Awesome Social Icons In Blog Or Website3 -->
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-4017969662737344"
         data-ad-slot="1819950113"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>


</body>

</html>